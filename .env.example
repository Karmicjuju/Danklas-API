# Danklas API Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================

# Environment mode: controls authentication behavior and logging
# - "dev": Development mode with relaxed settings
# - "test": Test mode with authentication bypass for basic endpoints  
# - "prod": Production mode with full security enforcement
DANKLAS_ENV=prod

# =============================================================================
# OKTA OIDC AUTHENTICATION
# =============================================================================

# Okta OIDC issuer URL - replace with your Okta domain
# Example: https://your-company.okta.com/oauth2/default
OKTA_ISSUER=https://YOUR_OKTA_DOMAIN/oauth2/default

# Okta OIDC audience - the identifier for your API in Okta
# This should match the audience configured in your Okta authorization server
OKTA_AUDIENCE=api://default

# =============================================================================
# AWS BEDROCK CONFIGURATION
# =============================================================================

# AWS region where your Bedrock resources are located
AWS_REGION=us-east-1

# Bedrock Guardrail ID - the ID of the guardrail to apply to all queries
# This provides content safety filtering for responses
# Find this in your AWS Bedrock console under Guardrails
BEDROCK_GUARDRAIL_ID=your-guardrail-id

# Bedrock Guardrail version - typically "1" for the first version
# Use "DRAFT" for development, or a specific version number for production
BEDROCK_GUARDRAIL_VERSION=1

# =============================================================================
# AWS CREDENTIALS (handled by boto3 - use one of these methods)
# =============================================================================

# Option 1: AWS credentials (not recommended for production)
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key

# Option 2: AWS Session Token (for temporary credentials)
# AWS_SESSION_TOKEN=your-session-token

# Option 3: Use AWS profiles (recommended)
# AWS_PROFILE=your-profile-name

# Option 4: Use IAM roles (recommended for production)
# When running on AWS infrastructure, use IAM roles instead of credentials

# =============================================================================
# REQUIRED JWT TOKEN CLAIMS
# =============================================================================

# Your JWT tokens must include these claims for the API to work:
#
# tenant_id (required): Organization identifier
#   - Can also be provided as "custom:tenant_id" or "tenantId"
#   - Example: "acme-corp", "company-123"
#
# roles (required): User roles for access control
#   - Can also be provided as "custom:roles" or "groups"  
#   - Example: ["user"], ["admin"], ["user", "manager"]
#   - Admin users see all document access levels
#   - Regular users only see "general" access level documents
#
# department (optional): Department for additional filtering
#   - Example: "engineering", "sales", "marketing"
#   - If provided, users only see documents for their department
#
# Example JWT payload:
# {
#   "sub": "user123",
#   "tenant_id": "acme-corp", 
#   "roles": ["user"],
#   "department": "engineering",
#   "exp": 1234567890,
#   "aud": "api://default",
#   "iss": "https://your-company.okta.com/oauth2/default"
# }

# =============================================================================
# KNOWLEDGE BASE SETUP REQUIREMENTS
# =============================================================================

# Your Knowledge Base documents should include .metadata.json files with:
#
# tenant_id (required): Which organization owns this document
# access_level (required): "general" for all users, "admin" for admin-only
# department (optional): Department-specific filtering
# document_type (optional): For user-provided metadata filtering
#
# Example document.pdf.metadata.json:
# {
#   "tenant_id": "acme-corp",
#   "access_level": "general",
#   "department": "engineering", 
#   "document_type": "technical_spec",
#   "created_date": "2024-01-15"
# }

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# For local development, you can use these test values:
# DANKLAS_ENV=test
# OKTA_ISSUER=https://test.okta.com/oauth2/default
# OKTA_AUDIENCE=api://test
# AWS_REGION=us-east-1
# BEDROCK_GUARDRAIL_ID=test-guardrail-id
# BEDROCK_GUARDRAIL_VERSION=DRAFT